{% extends 'base.html' %}
{% block title %}Search for books{% endblock %}
{% block content %}
    <form method="POST">
        {{ form.hidden_tag() }}
        {% if form.search.widget.input_type != 'hidden' %}
        <div class="container">
            <div class="row">
                <div class="col col-6 mx-auto">
                    {{ form.search(placeholder=form.search.label.text, class="form-control my-2", id="search_bar")}}
                </div>  
            </div>
        </div>
        {% endif %}
        <div class="container">
            <div class="row mb-5">
                <div class="col text-center">
                    <button class="btn btn-lg btn-success mt-3 mx-auto" id="search">Search</button>
                </div>
            </div>
        </div>     
    </form>
    <div class='container' id='top_books'>
        {% if books %}
            {% for book in books %}
                <div class="row my-2" id='top_book_row'>
                    <div class="col-3">
                        <a href="/books/{{book.id}}"><img src="{{book.image}}" alt="{{book.title}}" class="self-align-center"></a>
                    </div>
                    <div class="col-2">
                        <p class="self-align-center"><strong>{{book.title}}</strong></p>
                    </div>
                    <div class="col-2">
                        <p class="self-align-center">{{book.author.author_name}}</p>
                    </div>
                    <div class="col-5">
                        <p>{{book.description}}</p>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    </div>
{% endblock %}
{% block scripts %}
    <script src="/static/app.js"></script>
{% endblock %}